<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>SAM Doc : Update-13</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            SAM Doc : Update-13
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Sep 07, 2011 by <font color="#0050B2">prodrigu</font>.
				    </div>

				    <h1><a name="Update-13-Release%3A"></a>Release: Update-13</h1>

<div>
<ul>
    <li><a href='#Update-13-Release%3A'>Release: Update-13</a></li>
<ul>
    <li><a href='#Update-13-Summary'>Summary</a></li>
    <li><a href='#Update-13-ValidationStepsperformed'>Validation Steps performed</a></li>
    <li><a href='#Update-13-Listofpackagesupdatedinthisrelease'>List of packages updated in this release</a></li>
<ul>
    <li><a href='#Update-13-NodeSAMNagios'>Node SAM-Nagios</a></li>
    <li><a href='#Update-13-NodeSAMGridmon'>Node SAM-Gridmon</a></li>
</ul>
    <li><a href='#Update-13-ReleaseNotes'>Release Notes</a></li>
    <li><a href='#Update-13-KnownIssues'>Known Issues</a></li>
    <li><a href='#Update-13-ListofIssuesfixedinthisrelease'>List of Issues fixed in this release</a></li>
</ul>
</ul></div>

<h2><a name="Update-13-Summary"></a>Summary</h2>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Start Date </td>
<td class='confluenceTd'> 12 July 2011 <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> End Date </td>
<td class='confluenceTd'> 19 August 2011 <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> Status </td>
<td class='confluenceTd'> <font color="red">Released</font><br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> Release Date </td>
<td class='confluenceTd'> 07 September 2011 <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> Release Managers </td>
<td class='confluenceTd'> Wojciech Lapka, Pedro Andrade&nbsp; <br class="atl-forced-newline" /> </td>
</tr>
</tbody></table>
</div>


<h2><a name="Update-13-ValidationStepsperformed"></a>Validation Steps performed</h2>

<p>Outlined in <a href="https://tomtools.cern.ch/jira/browse/SAM-1772">SAM-1772</a></p>
<ul>
	<li>Announced for Stage Rollout - 25 August 2011</li>
	<li>Cleared staged rollout - 07 September 2011
	<ul>
		<li>Early Adopter Report - <a href="https://documents.egi.eu/public/ShowDocument?docid=776">Update-13 EA Report</a></li>
	</ul>
	</li>
</ul>


<h2><a name="Update-13-Listofpackagesupdatedinthisrelease"></a>List of packages updated in this release</h2>

<h3><a name="Update-13-NodeSAMNagios"></a>Node SAM-Nagios</h3>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>atp-1.18.5-1.el5
atp-web-1.18.5-1.el5
egee-NAGIOS-1.0.0-70.el5
glite-yaim-nagios-1.4.16-1.el5
grid-monitoring-config-gen-0.81.2-1.el5
grid-monitoring-probes-hr.srce-0.33.1-1.el5
grid-monitoring-probes-org.sam.sec-0.3.5-2.el5
msg-nagios-bridge-1.0.62-1.el5
mywlcg-0.0.2-2.el5
nagios2metricstore-1.1.3-1.el5
sam-release-1.13.0-1.el5
unicore-monitoring-probes-2.0.0-1
voms2htpasswd-1.10.0-1.el5
</pre>
</div></div>

<h3><a name="Update-13-NodeSAMGridmon"></a>Node SAM-Gridmon</h3>
<div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>ace-0.1.10-2.el5
atp-1.18.5-1.el5
atp-web-1.18.5-1.el5
egee-NAGIOS-WEB-0.9.1-3.el5
glite-yaim-nagios-1.4.16-1.el5
msg-consume2db-1.0.21-1.el5
msg-nagios-bridge-1.0.62-1.el5
mywlcg-0.0.2-2.el5
nagios2metricstore-1.1.3-1.el5
poem-0.5.6-1.el5
sam-release-1.13.0-1.el5
voms2htpasswd-1.10.0-1.el5
</pre>
</div></div>

<h2><a name="Update-13-ReleaseNotes"></a>Release Notes</h2>

<ul>
	<li>Failover Nagios - configurable hot-standby mode. <a href="Installing SAM Update-13.html#InstallingSAMUpdate-13-FailoverNagiosconfigurablehotstandbymode">Failover configuration</a></li>
	<li>ATP VO feed sanity check</li>
	<li>MyWLCG/MYEGI portal
	<ul>
		<li>Do not show FQANs in profile selection</li>
		<li>Throttling for myWLCG WEB API</li>
		<li>Setting performance limits for programmatic interface</li>
	</ul>
	</li>
	<li>Enable switching on notifications even when NCG_ENABLE_NOTIFICATION is switched off. This enables SAM admins to switch on notifications to subset of sites. Also, it is possible to enable multiple contacts per site or per host. Enabling contacts per host is useful for core services. For details see <a href="https://tomtools.cern.ch/jira/browse/SAM-1424">SAM-1424</a>.</li>
	<li>Gathering statistics of load in metric results store</li>
	<li>Set VOMS anti-CSRF header</li>
	<li>Enable removing metric from an alias on host with multiple aliases</li>
	<li>Enable manual definition of GoodCEs for WMS-JobState check</li>
	<li>Cleanup of dependencies in metapackages</li>
	<li>Use job classes in Oracle databases</li>
	<li>Several bug fixes</li>
	<li>New YAIM configuration variables
	<ul>
		<li>Performance Limits in MyWLCG/MyEGI portal<br/>
This variables have default values as listed below
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="theme: Confluence; brush: java; gutter: false"># Limit number of rows that can be fetched at a time to avoid DB dumps.
MYWLCG_DB_LIMIT=50000
# Limit number of accesses per IP address in a given time(seconds).
MYWLCG_ACCESS_PERIOD=5
MYWLCG_NUMBER_OF_ACCESSES=100</pre>
</div></div></li>
		<li>VO Feeds Configuration (one feed per VO defined in NCG_VO)
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="theme: Confluence; brush: java; gutter: false">ATP_&amp;lt;VO&amp;gt;_VO_FEED</pre>
</div></div></li>
		<li>Install backup SAM instance (<a href="https://tomtools.cern.ch/jira/browse/SAM-1127">SAM-1127</a>)
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="theme: Confluence; brush: java; gutter: false">NCG_BACKUP_INSTANCE=true</pre>
</div></div></li>
	</ul>
	</li>
	<li>New localdb configuration options
	<ul>
		<li>Remove metric from alias only (<a href="https://tomtools.cern.ch/jira/browse/SAM-1645">SAM-1645</a>)
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="theme: Confluence; brush: java; gutter: false">REMOVE_ALIAS_METRIC!alias!metric</pre>
</div></div></li>
		<li>Add options for enabling host and site contacts when global notifications (ENABLE_NOTIFICATIONS) are disabled:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="theme: Confluence; brush: java; gutter: false">ADD_SITE_CONTACT!sitename!emailAddress
ENABLE_SITE_CONTACT!sitename!emailAddress
ENABLE_HOSTCONTACT!hostname!emailAddress</pre>
</div></div></li>
	</ul>
	</li>
</ul>



<h2><a name="Update-13-KnownIssues"></a>Known Issues</h2>

<div class='panelMacro'><table class='noteMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>For machines running latest version of glite-UI (3.2.10-1):

<p>Please restart Nagios after yaim execution. Otherwise you may see problems similar to <a href="https://tomtools.cern.ch/jira/browse/SAM-1693">SAM-1693</a>.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="theme: Confluence; brush: java; gutter: false">service nagios restart</pre>
</div></div></td></tr></table></div>

<div class='panelMacro'><table class='noteMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>In fresh NGI Nagios installations MyEGI/MyWLCG gridmap view isn't sized properly<br/>
due to switched off gstat synchronizer.</td></tr></table></div>

<h2><a name="Update-13-ListofIssuesfixedinthisrelease"></a>List of Issues fixed in this release</h2>

<div class="error"><span class="error">jiraissues: Unable to determine if sort should be enabled.</span> </div>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="https://tomtools.cern.ch/confluence/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Feb 27, 2014 10:19</font></td>
		    </tr>
	    </table>
    </body>
</html>
